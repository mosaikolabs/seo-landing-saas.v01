---
// src/components/ui/Card.astro
interface Props {
  variant?: 'default' | 'featured' | 'testimonial' | 'pricing';
  className?: string;
  imageSrc?: string;
  imageAlt?: string;
  title?: string;
  subtitle?: string;
  badge?: string;
  badgeVariant?: 'primary' | 'secondary' | 'accent' | 'success' | 'warning' | 'error';
}

const {
  variant = 'default',
  className = '',
  imageSrc,
  imageAlt = '',
  title,
  subtitle,
  badge,
  badgeVariant = 'primary',
  ...rest
} = Astro.props;

// Estilos base para la tarjeta
const baseStyles = 'rounded-lg overflow-hidden transition-all duration-300';

// Variantes de tarjeta
const variants = {
  default: 'bg-white shadow-md hover:shadow-lg',
  featured: 'bg-white shadow-lg border-2 border-primary transform hover:-translate-y-1',
  testimonial: 'bg-gray-50 p-6 md:p-8',
  pricing: 'bg-white border border-gray-200 hover:border-primary/50 hover:shadow-md',
};

// Estilos para las insignias
const badgeVariants = {
  primary: 'bg-primary/10 text-primary',
  secondary: 'bg-secondary/10 text-secondary',
  accent: 'bg-accent/10 text-accent',
  success: 'bg-green-100 text-green-800',
  warning: 'bg-yellow-100 text-yellow-800',
  error: 'bg-red-100 text-red-800',
};

const cardClasses = [
  baseStyles,
  variants[variant],
  className
].join(' ');
---

<article class={cardClasses} {...rest}>
  {badge && (
    <div class={`absolute right-4 top-4 px-3 py-1 rounded-full text-xs font-medium ${badgeVariants[badgeVariant]}`}>
      {badge}
    </div>
  )}
  
  {imageSrc && (
    <div class="relative h-48 overflow-hidden">
      <img 
        src={imageSrc} 
        alt={imageAlt} 
        class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
        loading="lazy"
      />
    </div>
  )}
  
  <div class="p-6">
    {title && (
      <h3 class="text-xl font-bold text-gray-900 mb-2">
        {title}
      </h3>
    )}
    
    {subtitle && (
      <p class="text-gray-600 mb-4">
        {subtitle}
      </p>
    )}
    
    <div class="mt-4">
      <slot />
    </div>
  </div>
</article>

<style>
  /* Efecto de elevaci贸n al pasar el rat贸n */
  article {
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  }
  
  /* Mejora de accesibilidad para el foco */
  article:focus-within {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
  
  /* Ajustes para la versi贸n m贸vil */
  @media (max-width: 640px) {
    .card-content {
      padding: 1rem;
    }
  }
  
  /* Efecto de hover para las tarjetas de precios */
  .pricing-card:hover {
    transform: translateY(-5px);
  }
  
  /* Estilo para las tarjetas de testimonio */
  .testimonial-card::before {
    content: '\201C';
    font-family: Georgia, serif;
    font-size: 4rem;
    color: var(--color-primary);
    opacity: 0.1;
    position: absolute;
    top: 1rem;
    left: 1rem;
    line-height: 1;
  }
  
  /* Efecto de hover para la imagen */
  .card-image-hover img {
    transition: transform 0.5s ease;
  }
  
  .card-image-hover:hover img {
    transform: scale(1.05);
  }
</style>
